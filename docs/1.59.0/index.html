<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1.59.0 (24 February, 2022) # Language # Stabilize default arguments for const parameters and remove the ordering restriction for type and const parameters Stabilize destructuring assignment Relax private in public lint on generic bounds and where clauses of trait impls Stabilize asm! and global_asm! for x86, x86_64, ARM, Aarch64, and RISC-V Compiler # Stabilize new symbol mangling format, leaving it opt-in (-Csymbol-mangling-version=v0) Emit LLVM optimization remarks when enabled with -Cremark Fix sparc64 ABI for aggregates with floating point members Warn when a #[test]-like built-in attribute macro is present multiple times."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="1.59.0 (24 February, 2022) # Language # Stabilize default arguments for const parameters and remove the ordering restriction for type and const parameters Stabilize destructuring assignment Relax private in public lint on generic bounds and where clauses of trait impls Stabilize asm! and global_asm! for x86, x86_64, ARM, Aarch64, and RISC-V Compiler # Stabilize new symbol mangling format, leaving it opt-in (-Csymbol-mangling-version=v0) Emit LLVM optimization remarks when enabled with -Cremark Fix sparc64 ABI for aggregates with floating point members Warn when a #[test]-like built-in attribute macro is present multiple times."><meta property="og:type" content="article"><meta property="og:url" content="https://releases.rs/docs/1.59.0/"><meta property="article:section" content="docs"><title>1.59.0 | Rust Changelogs</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.2831c8bfd288cbfb37f6179f5c557549314dfde646d1d22125cf351635ba306f.js integrity="sha256-KDHIv9KIy/s39hefXFV1STFN/eZG0dIhJc81FjW6MG8=" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WXS0HSEV58"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WXS0HSEV58",{anonymize_ip:!1})}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=https://www.rust-lang.org/static/images/rust-logo-blk.svg alt=Logo><span>Rust Changelogs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/1.72.0/>1.72.0</a></li><li><a href=/docs/1.71.0/>1.71.0</a></li><li><a href=/docs/1.70.0/>1.70.0</a></li><li><a href=/docs/1.69.0/>1.69.0</a></li><li><a href=/docs/1.68.0/>1.68.0</a></li><li><a href=/docs/1.68.1/>1.68.1</a></li><li><a href=/docs/1.68.2/>1.68.2</a></li><li><a href=/docs/1.67.0/>1.67.0</a></li><li><a href=/docs/1.67.1/>1.67.1</a></li><li><a href=/docs/1.66.0/>1.66.0</a></li><li><a href=/docs/1.66.1/>1.66.1</a></li><li><a href=/docs/1.65.0/>1.65.0</a></li><li><a href=/docs/1.64.0/>1.64.0</a></li><li><a href=/docs/1.63.0/>1.63.0</a></li><li><a href=/docs/1.62.0/>1.62.0</a></li><li><a href=/docs/1.62.1/>1.62.1</a></li><li><a href=/docs/1.61.0/>1.61.0</a></li><li><a href=/docs/1.60.0/>1.60.0</a></li><li><a href=/docs/1.59.0/ class=active>1.59.0</a></li><li><a href=/docs/1.58.0/>1.58.0</a></li><li><a href=/docs/1.58.1/>1.58.1</a></li><li><a href=/docs/1.57.0/>1.57.0</a></li><li><a href=/docs/1.56.0/>1.56.0</a></li><li><a href=/docs/1.56.1/>1.56.1</a></li><li><a href=/docs/1.55.0/>1.55.0</a></li><li><a href=/docs/1.54.0/>1.54.0</a></li><li><a href=/docs/1.53.0/>1.53.0</a></li><li><a href=/docs/1.52.0/>1.52.0</a></li><li><a href=/docs/1.52.1/>1.52.1</a></li><li><a href=/docs/1.51.0/>1.51.0</a></li><li><a href=/docs/1.50.0/>1.50.0</a></li><li><a href=/docs/1.49.0/>1.49.0</a></li><li><a href=/docs/1.48.0/>1.48.0</a></li><li><a href=/docs/1.47.0/>1.47.0</a></li><li><a href=/docs/1.46.0/>1.46.0</a></li><li><a href=/docs/1.45.0/>1.45.0</a></li><li><a href=/docs/1.45.1/>1.45.1</a></li><li><a href=/docs/1.45.2/>1.45.2</a></li><li><a href=/docs/1.44.0/>1.44.0</a></li><li><a href=/docs/1.44.1/>1.44.1</a></li><li><a href=/docs/1.43.0/>1.43.0</a></li><li><a href=/docs/1.43.1/>1.43.1</a></li><li><a href=/docs/1.42.0/>1.42.0</a></li><li><a href=/docs/1.41.0/>1.41.0</a></li><li><a href=/docs/1.41.1/>1.41.1</a></li><li><a href=/docs/1.40.0/>1.40.0</a></li><li><a href=/docs/1.39.0/>1.39.0</a></li><li><a href=/docs/1.38.0/>1.38.0</a></li><li><a href=/docs/1.37.0/>1.37.0</a></li><li><a href=/docs/1.36.0/>1.36.0</a></li><li><a href=/docs/1.35.0/>1.35.0</a></li><li><a href=/docs/1.34.0/>1.34.0</a></li><li><a href=/docs/1.34.1/>1.34.1</a></li><li><a href=/docs/1.34.2/>1.34.2</a></li><li><a href=/docs/1.33.0/>1.33.0</a></li><li><a href=/docs/1.32.0/>1.32.0</a></li><li><a href=/docs/1.31.0/>1.31.0</a></li><li><a href=/docs/1.31.1/>1.31.1</a></li><li><a href=/docs/1.30.0/>1.30.0</a></li><li><a href=/docs/1.30.1/>1.30.1</a></li><li><a href=/docs/1.29.0/>1.29.0</a></li><li><a href=/docs/1.29.1/>1.29.1</a></li><li><a href=/docs/1.29.2/>1.29.2</a></li><li><a href=/docs/1.28.0/>1.28.0</a></li><li><a href=/docs/1.27.0/>1.27.0</a></li><li><a href=/docs/1.27.1/>1.27.1</a></li><li><a href=/docs/1.27.2/>1.27.2</a></li><li><a href=/docs/1.26.0/>1.26.0</a></li><li><a href=/docs/1.26.1/>1.26.1</a></li><li><a href=/docs/1.26.2/>1.26.2</a></li><li><a href=/docs/1.25.0/>1.25.0</a></li><li><a href=/docs/1.24.0/>1.24.0</a></li><li><a href=/docs/1.24.1/>1.24.1</a></li><li><a href=/docs/1.23.0/>1.23.0</a></li><li><a href=/docs/1.22.0/>1.22.0</a></li><li><a href=/docs/1.22.1/>1.22.1</a></li><li><a href=/docs/1.21.0/>1.21.0</a></li><li><a href=/docs/1.20.0/>1.20.0</a></li><li><a href=/docs/1.19.0/>1.19.0</a></li><li><a href=/docs/1.18.0/>1.18.0</a></li><li><a href=/docs/1.17.0/>1.17.0</a></li><li><a href=/docs/1.16.0/>1.16.0</a></li><li><a href=/docs/1.15.0/>1.15.0</a></li><li><a href=/docs/1.15.1/>1.15.1</a></li><li><a href=/docs/1.14.0/>1.14.0</a></li><li><a href=/docs/1.13.0/>1.13.0</a></li><li><a href=/docs/1.12.0/>1.12.0</a></li><li><a href=/docs/1.12.1/>1.12.1</a></li><li><a href=/docs/1.11.0/>1.11.0</a></li><li><a href=/docs/1.10.0/>1.10.0</a></li><li><a href=/docs/1.9.0/>1.9.0</a></li><li><a href=/docs/1.8.0/>1.8.0</a></li><li><a href=/docs/1.7.0/>1.7.0</a></li><li><a href=/docs/1.6.0/>1.6.0</a></li><li><a href=/docs/1.5.0/>1.5.0</a></li><li><a href=/docs/1.4.0/>1.4.0</a></li><li><a href=/docs/1.3.0/>1.3.0</a></li><li><a href=/docs/1.2.0/>1.2.0</a></li><li><a href=/docs/1.1.0/>1.1.0</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>1.59.0</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#language>Language</a></li><li><a href=#compiler>Compiler</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#stabilized-apis>Stabilized APIs</a></li><li><a href=#cargo>Cargo</a></li><li><a href=#compatibility-notes>Compatibility Notes</a></li><li><a href=#internal-changes>Internal Changes</a></li></ul></nav></aside></header><article class=markdown><h1 id=1590-24-february-2022>1.59.0 (24 February, 2022)
<a class=anchor href=#1590-24-february-2022>#</a></h1><h2 id=language>Language
<a class=anchor href=#language>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/90207/>Stabilize default arguments for const parameters and remove the ordering restriction for type and const parameters</a></li><li><a href=https://github.com/rust-lang/rust/pull/90521/>Stabilize destructuring assignment</a></li><li><a href=https://github.com/rust-lang/rust/pull/90586/>Relax private in public lint on generic bounds and where clauses of trait impls</a></li><li><a href=https://github.com/rust-lang/rust/pull/91728/>Stabilize asm! and global_asm! for x86, x86_64, ARM, Aarch64, and RISC-V</a></li></ul><h2 id=compiler>Compiler
<a class=anchor href=#compiler>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/90128/>Stabilize new symbol mangling format, leaving it opt-in (-Csymbol-mangling-version=v0)</a></li><li><a href=https://github.com/rust-lang/rust/pull/90833/>Emit LLVM optimization remarks when enabled with <code>-Cremark</code></a></li><li><a href=https://github.com/rust-lang/rust/pull/91003/>Fix sparc64 ABI for aggregates with floating point members</a></li><li><a href=https://github.com/rust-lang/rust/pull/91172/>Warn when a <code>#[test]</code>-like built-in attribute macro is present multiple times.</a></li><li><a href=https://github.com/rust-lang/rust/pull/91284/>Add support for riscv64gc-unknown-freebsd</a></li><li><a href=https://github.com/rust-lang/rust/pull/91535/>Stabilize <code>-Z emit-future-incompat</code> as <code>--json future-incompat</code></a></li><li><a href=https://github.com/rust-lang/rust/issues/94124>Soft disable incremental compilation</a></li></ul><p>This release disables incremental compilation, unless the user has explicitly
opted in via the newly added RUSTC_FORCE_INCREMENTAL=1 environment variable.
This is due to a known and relatively frequently occurring bug in incremental
compilation, which causes builds to issue internal compiler errors. This
particular bug is already fixed on nightly, but that fix has not yet rolled out
to stable and is deemed too risky for a direct stable backport.</p><p>As always, we encourage users to test with nightly and report bugs so that we
can track failures and fix issues earlier.</p><p>See <a href=https://github.com/rust-lang/rust/issues/94124>94124</a> for more details.</p><h2 id=libraries>Libraries
<a class=anchor href=#libraries>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/91593/>Remove unnecessary bounds for some Hash{Map,Set} methods</a></li></ul><h2 id=stabilized-apis>Stabilized APIs
<a class=anchor href=#stabilized-apis>#</a></h2><ul><li><a href=https://doc.rust-lang.org/stable/std/thread/fn.available_parallelism.html><code>std::thread::available_parallelism</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/result/enum.Result.html#method.copied><code>Result::copied</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/result/enum.Result.html#method.cloned><code>Result::cloned</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/arch/macro.asm.html><code>arch::asm!</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/arch/macro.global_asm.html><code>arch::global_asm!</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/ops/enum.ControlFlow.html#method.is_break><code>ops::ControlFlow::is_break</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/ops/enum.ControlFlow.html#method.is_continue><code>ops::ControlFlow::is_continue</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/primitive.char.html#impl-TryFrom%3Cchar%3E><code>TryFrom&lt;char> for u8</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/char/struct.TryFromCharError.html><code>char::TryFromCharError</code></a>
implementing <code>Clone</code>, <code>Debug</code>, <code>Display</code>, <code>PartialEq</code>, <code>Copy</code>, <code>Eq</code>, <code>Error</code></li><li><a href=https://doc.rust-lang.org/stable/std/iter/fn.zip.html><code>iter::zip</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/num/struct.NonZeroU8.html#method.is_power_of_two><code>NonZeroU8::is_power_of_two</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/num/struct.NonZeroU16.html#method.is_power_of_two><code>NonZeroU16::is_power_of_two</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/num/struct.NonZeroU32.html#method.is_power_of_two><code>NonZeroU32::is_power_of_two</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/num/struct.NonZeroU64.html#method.is_power_of_two><code>NonZeroU64::is_power_of_two</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/num/struct.NonZeroU128.html#method.is_power_of_two><code>NonZeroU128::is_power_of_two</code></a></li><li><a href=https://doc.rust-lang.org/stable/core/num/struct.NonZeroUsize.html#method.is_power_of_two><code>NonZeroUsize::is_power_of_two</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/char/struct.ToLowercase.html#impl-DoubleEndedIterator><code>DoubleEndedIterator for ToLowercase</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/char/struct.ToUppercase.html#impl-DoubleEndedIterator><code>DoubleEndedIterator for ToUppercase</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/convert/trait.TryFrom.html#impl-TryFrom%3C%26%27_%20mut%20%5BT%5D%3E><code>TryFrom&lt;&amp;mut [T]> for [T; N]</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/sync/struct.Once.html#impl-UnwindSafe><code>UnwindSafe for Once</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/sync/struct.Once.html#impl-RefUnwindSafe><code>RefUnwindSafe for Once</code></a></li><li><a href=https://github.com/rust-lang/stdarch/pull/1266>armv8 neon intrinsics for aarch64</a></li></ul><p>Const-stable:</p><ul><li><a href=https://doc.rust-lang.org/stable/std/mem/union.MaybeUninit.html#method.as_ptr><code>mem::MaybeUninit::as_ptr</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/mem/union.MaybeUninit.html#method.assume_init><code>mem::MaybeUninit::assume_init</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/mem/union.MaybeUninit.html#method.assume_init_ref><code>mem::MaybeUninit::assume_init_ref</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/ffi/struct.CStr.html#method.from_bytes_with_nul_unchecked><code>ffi::CStr::from_bytes_with_nul_unchecked</code></a></li></ul><h2 id=cargo>Cargo
<a class=anchor href=#cargo>#</a></h2><ul><li><a href=https://github.com/rust-lang/cargo/pull/10088/>Stabilize the <code>strip</code> profile option</a></li><li><a href=https://github.com/rust-lang/cargo/pull/10165/>Stabilize future-incompat-report</a></li><li><a href=https://github.com/rust-lang/cargo/pull/10133/>Support abbreviating <code>--release</code> as <code>-r</code></a></li><li><a href=https://github.com/rust-lang/cargo/pull/10152/>Support <code>term.quiet</code> configuration</a></li><li><a href=https://github.com/rust-lang/cargo/pull/10145/>Remove <code>--host</code> from cargo {publish,search,login}</a></li></ul><h2 id=compatibility-notes>Compatibility Notes
<a class=anchor href=#compatibility-notes>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/90846/>Refactor weak symbols in std::sys::unix</a>
This may add new, versioned, symbols when building with a newer glibc, as the
standard library uses weak linkage rather than dynamically attempting to load
certain symbols at runtime.</li><li><a href=https://github.com/rust-lang/rust/pull/83744/>Deprecate crate_type and crate_name nested inside <code>#![cfg_attr]</code></a>
This adds a future compatibility lint to supporting the use of cfg_attr
wrapping either crate_type or crate_name specification within Rust files;
it is recommended that users migrate to setting the equivalent command line
flags.</li><li><a href=https://github.com/rust-lang/rust/pull/92034/>Remove effect of <code>#[no_link]</code> attribute on name resolution</a>
This may expose new names, leading to conflicts with preexisting names in a
given namespace and a compilation failure.</li><li><a href=https://github.com/rust-lang/cargo/pull/10172/>Cargo will document libraries before binaries.</a></li><li><a href=https://github.com/rust-lang/cargo/pull/10201/>Respect doc=false in dependencies, not just the root crate</a></li><li><a href=https://github.com/rust-lang/rust/pull/83791/>Weaken guarantee around advancing underlying iterators in zip</a></li><li><a href=https://github.com/rust-lang/rust/pull/89825/>Make split_inclusive() on an empty slice yield an empty output</a></li><li><a href=https://github.com/rust-lang/rust/pull/89999/>Update std::env::temp_dir to use GetTempPath2 on Windows when available.</a></li><li><a href=https://github.com/rust-lang/rust/pull/92137/>unreachable! was updated to match other formatting macro behavior on Rust 2021</a></li></ul><h2 id=internal-changes>Internal Changes
<a class=anchor href=#internal-changes>#</a></h2><p>These changes provide no direct user facing benefits, but represent significant
improvements to the internals and overall performance of rustc
and related tools.</p><ul><li><p><a href=https://github.com/rust-lang/rust/pull/91255/>Fix many cases of normalization-related ICEs</a></p></li><li><p><a href=https://github.com/rust-lang/rust/pull/85013/>Replace dominators algorithm with simple Lengauer-Tarjan</a></p></li><li><p><a href=https://github.com/rust-lang/rust/pull/90637/>Store liveness in interval sets for region inference</a></p></li><li><p><a href=https://github.com/rust-lang/rust/issues/91867>Remove <code>in_band_lifetimes</code> from the compiler and standard library, in preparation for removing this
unstable feature.</a></p></li></ul></article><footer class=book-footer><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#language>Language</a></li><li><a href=#compiler>Compiler</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#stabilized-apis>Stabilized APIs</a></li><li><a href=#cargo>Cargo</a></li><li><a href=#compatibility-notes>Compatibility Notes</a></li><li><a href=#internal-changes>Internal Changes</a></li></ul></nav></div></aside></main></body></html>