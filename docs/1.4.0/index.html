<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1.4.0 # Released on: 29 October, 2015 Branched from master on: 4 December, 2015 ~1200 changes, numerous bugfixes Highlights # Windows builds targeting the 64-bit MSVC ABI and linker (instead of GNU) are now supported and recommended for use. Breaking Changes # Several changes have been made to fix type soundness and improve the behavior of associated types. See RFC 1214. Although we have mostly introduced these changes as warnings this release, to become errors next release, there are still some scenarios that will see immediate breakage."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="1.4.0 # Released on: 29 October, 2015 Branched from master on: 4 December, 2015 ~1200 changes, numerous bugfixes Highlights # Windows builds targeting the 64-bit MSVC ABI and linker (instead of GNU) are now supported and recommended for use. Breaking Changes # Several changes have been made to fix type soundness and improve the behavior of associated types. See RFC 1214. Although we have mostly introduced these changes as warnings this release, to become errors next release, there are still some scenarios that will see immediate breakage."><meta property="og:type" content="article"><meta property="og:url" content="https://releases.rs/docs/1.4.0/"><meta property="article:section" content="docs"><title>1.4.0 | Rust Changelogs</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.f8de3645fe00591b41524aee174e19edd98a22255a2930a0cdc82a94835ba387.css integrity="sha256-+N42Rf4AWRtBUkruF04Z7dmKIiVaKTCgzcgqlINbo4c=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.90f9bb193214a135a250f8470d66636aeaf4db185febd35ab99e733475616046.js integrity="sha256-kPm7GTIUoTWiUPhHDWZjaur02xhf69NauZ5zNHVhYEY=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WXS0HSEV58"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WXS0HSEV58",{anonymize_ip:!1})}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=https://www.rust-lang.org/static/images/rust-logo-blk.svg alt=Logo><span>Rust Changelogs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/1.76.0/>1.76.0</a></li><li><a href=/docs/1.75.0/>1.75.0</a></li><li><a href=/docs/1.74.0/>1.74.0</a></li><li><a href=/docs/1.73.0/>1.73.0</a></li><li><a href=/docs/1.72.1/>1.72.1</a></li><li><a href=/docs/1.72.0/>1.72.0</a></li><li><a href=/docs/1.71.1/>1.71.1</a></li><li><a href=/docs/1.71.0/>1.71.0</a></li><li><a href=/docs/1.70.0/>1.70.0</a></li><li><a href=/docs/1.69.0/>1.69.0</a></li><li><a href=/docs/1.68.2/>1.68.2</a></li><li><a href=/docs/1.68.1/>1.68.1</a></li><li><a href=/docs/1.68.0/>1.68.0</a></li><li><a href=/docs/1.67.1/>1.67.1</a></li><li><a href=/docs/1.67.0/>1.67.0</a></li><li><a href=/docs/1.66.1/>1.66.1</a></li><li><a href=/docs/1.66.0/>1.66.0</a></li><li><a href=/docs/1.65.0/>1.65.0</a></li><li><a href=/docs/1.64.0/>1.64.0</a></li><li><a href=/docs/1.63.0/>1.63.0</a></li><li><a href=/docs/1.62.1/>1.62.1</a></li><li><a href=/docs/1.62.0/>1.62.0</a></li><li><a href=/docs/1.61.0/>1.61.0</a></li><li><a href=/docs/1.60.0/>1.60.0</a></li><li><a href=/docs/1.59.0/>1.59.0</a></li><li><a href=/docs/1.58.1/>1.58.1</a></li><li><a href=/docs/1.58.0/>1.58.0</a></li><li><a href=/docs/1.57.0/>1.57.0</a></li><li><a href=/docs/1.56.1/>1.56.1</a></li><li><a href=/docs/1.56.0/>1.56.0</a></li><li><a href=/docs/1.55.0/>1.55.0</a></li><li><a href=/docs/1.54.0/>1.54.0</a></li><li><a href=/docs/1.53.0/>1.53.0</a></li><li><a href=/docs/1.52.1/>1.52.1</a></li><li><a href=/docs/1.52.0/>1.52.0</a></li><li><a href=/docs/1.51.0/>1.51.0</a></li><li><a href=/docs/1.50.0/>1.50.0</a></li><li><a href=/docs/1.49.0/>1.49.0</a></li><li><a href=/docs/1.48.0/>1.48.0</a></li><li><a href=/docs/1.47.0/>1.47.0</a></li><li><a href=/docs/1.46.0/>1.46.0</a></li><li><a href=/docs/1.45.2/>1.45.2</a></li><li><a href=/docs/1.45.1/>1.45.1</a></li><li><a href=/docs/1.45.0/>1.45.0</a></li><li><a href=/docs/1.44.1/>1.44.1</a></li><li><a href=/docs/1.44.0/>1.44.0</a></li><li><a href=/docs/1.43.1/>1.43.1</a></li><li><a href=/docs/1.43.0/>1.43.0</a></li><li><a href=/docs/1.42.0/>1.42.0</a></li><li><a href=/docs/1.41.1/>1.41.1</a></li><li><a href=/docs/1.41.0/>1.41.0</a></li><li><a href=/docs/1.40.0/>1.40.0</a></li><li><a href=/docs/1.39.0/>1.39.0</a></li><li><a href=/docs/1.38.0/>1.38.0</a></li><li><a href=/docs/1.37.0/>1.37.0</a></li><li><a href=/docs/1.36.0/>1.36.0</a></li><li><a href=/docs/1.35.0/>1.35.0</a></li><li><a href=/docs/1.34.2/>1.34.2</a></li><li><a href=/docs/1.34.1/>1.34.1</a></li><li><a href=/docs/1.34.0/>1.34.0</a></li><li><a href=/docs/1.33.0/>1.33.0</a></li><li><a href=/docs/1.32.0/>1.32.0</a></li><li><a href=/docs/1.31.1/>1.31.1</a></li><li><a href=/docs/1.31.0/>1.31.0</a></li><li><a href=/docs/1.30.1/>1.30.1</a></li><li><a href=/docs/1.30.0/>1.30.0</a></li><li><a href=/docs/1.29.2/>1.29.2</a></li><li><a href=/docs/1.29.1/>1.29.1</a></li><li><a href=/docs/1.29.0/>1.29.0</a></li><li><a href=/docs/1.28.0/>1.28.0</a></li><li><a href=/docs/1.27.2/>1.27.2</a></li><li><a href=/docs/1.27.1/>1.27.1</a></li><li><a href=/docs/1.27.0/>1.27.0</a></li><li><a href=/docs/1.26.2/>1.26.2</a></li><li><a href=/docs/1.26.1/>1.26.1</a></li><li><a href=/docs/1.26.0/>1.26.0</a></li><li><a href=/docs/1.25.0/>1.25.0</a></li><li><a href=/docs/1.24.1/>1.24.1</a></li><li><a href=/docs/1.24.0/>1.24.0</a></li><li><a href=/docs/1.23.0/>1.23.0</a></li><li><a href=/docs/1.22.1/>1.22.1</a></li><li><a href=/docs/1.22.0/>1.22.0</a></li><li><a href=/docs/1.21.0/>1.21.0</a></li><li><a href=/docs/1.20.0/>1.20.0</a></li><li><a href=/docs/1.19.0/>1.19.0</a></li><li><a href=/docs/1.18.0/>1.18.0</a></li><li><a href=/docs/1.17.0/>1.17.0</a></li><li><a href=/docs/1.16.0/>1.16.0</a></li><li><a href=/docs/1.15.1/>1.15.1</a></li><li><a href=/docs/1.15.0/>1.15.0</a></li><li><a href=/docs/1.14.0/>1.14.0</a></li><li><a href=/docs/1.13.0/>1.13.0</a></li><li><a href=/docs/1.12.1/>1.12.1</a></li><li><a href=/docs/1.12.0/>1.12.0</a></li><li><a href=/docs/1.11.0/>1.11.0</a></li><li><a href=/docs/1.10.0/>1.10.0</a></li><li><a href=/docs/1.9.0/>1.9.0</a></li><li><a href=/docs/1.8.0/>1.8.0</a></li><li><a href=/docs/1.7.0/>1.7.0</a></li><li><a href=/docs/1.6.0/>1.6.0</a></li><li><a href=/docs/1.5.0/>1.5.0</a></li><li><a href=/docs/1.4.0/ class=active>1.4.0</a></li><li><a href=/docs/1.3.0/>1.3.0</a></li><li><a href=/docs/1.2.0/>1.2.0</a></li><li><a href=/docs/1.1.0/>1.1.0</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>1.4.0</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#highlights>Highlights</a></li><li><a href=#breaking-changes>Breaking Changes</a></li><li><a href=#language>Language</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#miscellaneous>Miscellaneous</a></li></ul></nav></aside></header><article class=markdown><h1 id=140>1.4.0
<a class=anchor href=#140>#</a></h1><blockquote class="book-hint warning"><ul><li>Released on: <em>29 October, 2015</em></li><li>Branched from master on: <em>4 December, 2015</em></li></ul></blockquote><ul><li>~1200 changes, numerous bugfixes</li></ul><h2 id=highlights>Highlights
<a class=anchor href=#highlights>#</a></h2><ul><li>Windows builds targeting the 64-bit MSVC ABI and linker (instead of
GNU) are now supported and recommended for use.</li></ul><h2 id=breaking-changes>Breaking Changes
<a class=anchor href=#breaking-changes>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/27641>Several changes have been made to fix type soundness and improve
the behavior of associated types</a>. See <a href=https://github.com/rust-lang/rfcs/blob/master/text/1214-projections-lifetimes-and-wf.md>RFC 1214</a>. Although
we have mostly introduced these changes as warnings this release, to
become errors next release, there are still some scenarios that will
see immediate breakage.</li><li><a href=https://github.com/rust-lang/rust/pull/28034>The <code>str::lines</code> and <code>BufRead::lines</code> iterators treat <code>\r\n</code> as
line breaks in addition to <code>\n</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28321>Loans of <code>'static</code> lifetime extend to the end of a function</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/27307><code>str::parse</code> no longer introduces avoidable rounding error when
parsing floating point numbers. Together with earlier changes to
float formatting/output, &ldquo;round trips&rdquo; like f.to_string().parse()
now preserve the value of f exactly. Additionally, leading plus
signs are now accepted</a>.</li></ul><h2 id=language>Language
<a class=anchor href=#language>#</a></h2><ul><li><code>use</code> statements that import multiple items <a href=https://github.com/rust-lang/rust/pull/27451>can now rename
them</a>, as in <code>use foo::{bar as kitten, baz as puppy}</code>.</li><li><a href=https://github.com/rust-lang/rust/pull/28270>Binops work correctly on fat pointers</a>.</li><li><code>pub extern crate</code>, which does not behave as expected, <a href=https://github.com/rust-lang/rust/pull/28486>issues a
warning</a> until a better solution is found.</li></ul><h2 id=libraries>Libraries
<a class=anchor href=#libraries>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/28339>Many APIs were stabilized</a>: <code>&lt;Box&lt;str>>::into_string</code>,
<a href=http://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html#method.downgrade><code>Arc::downgrade</code></a>, <a href=http://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html#method.get_mut><code>Arc::get_mut</code></a>, <a href=http://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html#method.make_mut><code>Arc::make_mut</code></a>,
<a href=http://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html#method.try_unwrap><code>Arc::try_unwrap</code></a>, <a href=http://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html#method.from_raw><code>Box::from_raw</code></a>, <a href=http://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html#method.into_raw><code>Box::into_raw</code></a>, <a href=http://doc.rust-lang.org/nightly/std/ffi/struct.CStr.html#method.to_str><code>CStr::to_str</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/ffi/struct.CStr.html#method.to_string_lossy><code>CStr::to_string_lossy</code></a>, <a href=http://doc.rust-lang.org/nightly/std/ffi/struct.CString.html#method.from_raw><code>CString::from_raw</code></a>, <a href=http://doc.rust-lang.org/nightly/std/ffi/struct.CString.html#method.into_raw><code>CString::into_raw</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/os/unix/io/trait.IntoRawFd.html#tymethod.into_raw_fd><code>IntoRawFd::into_raw_fd</code></a>, <a href=http://doc.rust-lang.org/nightly/std/os/unix/io/trait.IntoRawFd.html><code>IntoRawFd</code></a>,
<code>IntoRawHandle::into_raw_handle</code>, <code>IntoRawHandle</code>,
<code>IntoRawSocket::into_raw_socket</code>, <code>IntoRawSocket</code>, <a href=http://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html#method.downgrade><code>Rc::downgrade</code></a>,
<a href=http://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html#method.get_mut><code>Rc::get_mut</code></a>, <a href=http://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html#method.make_mut><code>Rc::make_mut</code></a>, <a href=http://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html#method.try_unwrap><code>Rc::try_unwrap</code></a>, <a href=http://doc.rust-lang.org/nightly/core/result/enum.Result.html#method.expect><code>Result::expect</code></a>,
<a href=http://doc.rust-lang.org/nightly/collections/string/struct.String.html#method.into_boxed_str><code>String::into_boxed_str</code></a>, <a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.read_timeout><code>TcpStream::read_timeout</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.set_read_timeout><code>TcpStream::set_read_timeout</code></a>, <a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.set_write_timeout><code>TcpStream::set_write_timeout</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.write_timeout><code>TcpStream::write_timeout</code></a>, <a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.read_timeout><code>UdpSocket::read_timeout</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.set_read_timeout><code>UdpSocket::set_read_timeout</code></a>, <a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.set_write_timeout><code>UdpSocket::set_write_timeout</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.write_timeout><code>UdpSocket::write_timeout</code></a>, <code>Vec::append</code>, <code>Vec::split_off</code>,
<a href=http://doc.rust-lang.org/nightly/std/collections/struct.VecDeque.html#method.append><code>VecDeque::append</code></a>, <a href=http://doc.rust-lang.org/nightly/std/collections/struct.VecDeque.html#method.retain><code>VecDeque::retain</code></a>, <a href=http://doc.rust-lang.org/nightly/std/collections/struct.VecDeque.html#method.split_off><code>VecDeque::split_off</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/rc/struct.Weak.html#method.upgrade><code>rc::Weak::upgrade</code></a>, <a href=http://doc.rust-lang.org/nightly/std/rc/struct.Weak.html><code>rc::Weak</code></a>, <a href=http://doc.rust-lang.org/nightly/std/slice/struct.Iter.html#method.as_slice><code>slice::Iter::as_slice</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/slice/struct.IterMut.html#method.into_slice><code>slice::IterMut::into_slice</code></a>, <a href=http://doc.rust-lang.org/nightly/std/str/struct.CharIndices.html#method.as_str><code>str::CharIndices::as_str</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/str/struct.Chars.html#method.as_str><code>str::Chars::as_str</code></a>, <a href=http://doc.rust-lang.org/nightly/std/primitive.str.html#method.split_at_mut><code>str::split_at_mut</code></a>, <a href=http://doc.rust-lang.org/nightly/std/primitive.str.html#method.split_at><code>str::split_at</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/sync/struct.Weak.html#method.upgrade><code>sync::Weak::upgrade</code></a>, <a href=http://doc.rust-lang.org/nightly/std/sync/struct.Weak.html><code>sync::Weak</code></a>, <a href=http://doc.rust-lang.org/nightly/std/thread/fn.park_timeout.html><code>thread::park_timeout</code></a>,
<a href=http://doc.rust-lang.org/nightly/std/thread/fn.sleep.html><code>thread::sleep</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28339>Some APIs were deprecated</a>: <code>BTreeMap::with_b</code>,
<code>BTreeSet::with_b</code>, <code>Option::as_mut_slice</code>, <code>Option::as_slice</code>,
<code>Result::as_mut_slice</code>, <code>Result::as_slice</code>, <code>f32::from_str_radix</code>,
<code>f64::from_str_radix</code>.</li><li><a href=https://github.com/rust-lang/rust/pull/27474>Reverse-searching strings is faster with the &rsquo;two-way'
algorithm</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/27531><code>std::io::copy</code> allows <code>?Sized</code> arguments</a>.</li><li>The <code>Windows</code>, <code>Chunks</code>, and <code>ChunksMut</code> iterators over slices all
<a href=https://github.com/rust-lang/rust/pull/27652>override <code>count</code>, <code>nth</code> and <code>last</code> with an <em>O</em>(1)
implementation</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/27825><code>Default</code> is implemented for arrays up to <code>[T; 32]</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/27896><code>IntoRawFd</code> has been added to the Unix-specific prelude,
<code>IntoRawSocket</code> and <code>IntoRawHandle</code> to the Windows-specific
prelude</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/27956><code>Extend&lt;String></code> and <code>FromIterator&lt;String</code> are both implemented for
<code>String</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28039><code>IntoIterator</code> is implemented for references to <code>Option</code> and
<code>Result</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28094><code>HashMap</code> and <code>HashSet</code> implement <code>Extend&lt;&amp;T></code> where <code>T: Copy</code></a> as part of <a href=https://github.com/rust-lang/rfcs/blob/master/text/0839-embrace-extend-extinguish.md>RFC 839</a>. This will cause type inference
breakage in rare situations.</li><li><a href=https://github.com/rust-lang/rust/pull/28156><code>BinaryHeap</code> implements <code>Debug</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28197><code>Borrow</code> and <code>BorrowMut</code> are implemented for fixed-size
arrays</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28268><code>extern fn</code>s with the &ldquo;Rust&rdquo; and &ldquo;C&rdquo; ABIs implement common
traits including <code>Eq</code>, <code>Ord</code>, <code>Debug</code>, <code>Hash</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28338>String comparison is faster</a>.</li><li><code>&amp;mut T</code> where <code>T: std::fmt::Write</code> <a href=https://github.com/rust-lang/rust/pull/28368>also implements
<code>std::fmt::Write</code></a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28494>A stable regression in <code>VecDeque::push_back</code> and other
capacity-altering methods that caused panics for zero-sized types
was fixed</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/28560>Function pointers implement traits for up to 12 parameters</a>.</li></ul><h2 id=miscellaneous>Miscellaneous
<a class=anchor href=#miscellaneous>#</a></h2><ul><li>The compiler <a href=https://github.com/rust-lang/rust/pull/27338>no longer uses the &lsquo;morestack&rsquo; feature to prevent
stack overflow</a>. Instead it uses guard pages and stack
probes (though stack probes are not yet implemented on any platform
but Windows).</li><li><a href=https://github.com/rust-lang/rust/pull/27866>The compiler matches traits faster when projections are involved</a>.</li><li>The &lsquo;improper_ctypes&rsquo; lint <a href=https://github.com/rust-lang/rust/pull/28779>no longer warns about use of <code>isize</code> and
<code>usize</code></a>.</li><li><a href=https://github.com/rust-lang/cargo/pull/1931>Cargo now displays useful information about what its doing during
<code>cargo update</code></a>.</li></ul></article><footer class=book-footer><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#highlights>Highlights</a></li><li><a href=#breaking-changes>Breaking Changes</a></li><li><a href=#language>Language</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#miscellaneous>Miscellaneous</a></li></ul></nav></div></aside></main></body></html>