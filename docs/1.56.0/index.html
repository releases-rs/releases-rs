<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1.56.0 # Released on: 21 October, 2021 Branched from master on: 3 September, 2021 Language # The 2021 Edition is now stable. See the edition guide for more details. The pattern in binding @ pattern can now also introduce new bindings. Union field access is permitted in const fn. Compiler # Upgrade to LLVM 13. Support memory, address, and thread sanitizers on aarch64-unknown-freebsd. Allow specifying a deployment target version for all iOS targets Warnings can be forced on with --force-warn."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="1.56.0 # Released on: 21 October, 2021 Branched from master on: 3 September, 2021 Language # The 2021 Edition is now stable. See the edition guide for more details. The pattern in binding @ pattern can now also introduce new bindings. Union field access is permitted in const fn. Compiler # Upgrade to LLVM 13. Support memory, address, and thread sanitizers on aarch64-unknown-freebsd. Allow specifying a deployment target version for all iOS targets Warnings can be forced on with --force-warn."><meta property="og:type" content="article"><meta property="og:url" content="https://releases.rs/docs/1.56.0/"><meta property="article:section" content="docs"><title>1.56.0 | Rust Changelogs</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.f8de3645fe00591b41524aee174e19edd98a22255a2930a0cdc82a94835ba387.css integrity="sha256-+N42Rf4AWRtBUkruF04Z7dmKIiVaKTCgzcgqlINbo4c=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.ce2b7bea72c2fddf6b03febaf4b98079bc7ef863db60db2e0aeda1b9b8a17308.js integrity="sha256-zit76nLC/d9rA/669LmAebx++GPbYNsuCu2hubihcwg=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WXS0HSEV58"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WXS0HSEV58",{anonymize_ip:!1})}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=https://www.rust-lang.org/static/images/rust-logo-blk.svg alt=Logo><span>Rust Changelogs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/1.79.0/>1.79.0</a></li><li><a href=/docs/1.78.0/>1.78.0</a></li><li><a href=/docs/1.77.1/>1.77.1</a></li><li><a href=/docs/1.77.0/>1.77.0</a></li><li><a href=/docs/1.76.0/>1.76.0</a></li><li><a href=/docs/1.75.0/>1.75.0</a></li><li><a href=/docs/1.74.1/>1.74.1</a></li><li><a href=/docs/1.74.0/>1.74.0</a></li><li><a href=/docs/1.73.0/>1.73.0</a></li><li><a href=/docs/1.72.1/>1.72.1</a></li><li><a href=/docs/1.72.0/>1.72.0</a></li><li><a href=/docs/1.71.1/>1.71.1</a></li><li><a href=/docs/1.71.0/>1.71.0</a></li><li><a href=/docs/1.70.0/>1.70.0</a></li><li><a href=/docs/1.69.0/>1.69.0</a></li><li><a href=/docs/1.68.2/>1.68.2</a></li><li><a href=/docs/1.68.1/>1.68.1</a></li><li><a href=/docs/1.68.0/>1.68.0</a></li><li><a href=/docs/1.67.1/>1.67.1</a></li><li><a href=/docs/1.67.0/>1.67.0</a></li><li><a href=/docs/1.66.1/>1.66.1</a></li><li><a href=/docs/1.66.0/>1.66.0</a></li><li><a href=/docs/1.65.0/>1.65.0</a></li><li><a href=/docs/1.64.0/>1.64.0</a></li><li><a href=/docs/1.63.0/>1.63.0</a></li><li><a href=/docs/1.62.1/>1.62.1</a></li><li><a href=/docs/1.62.0/>1.62.0</a></li><li><a href=/docs/1.61.0/>1.61.0</a></li><li><a href=/docs/1.60.0/>1.60.0</a></li><li><a href=/docs/1.59.0/>1.59.0</a></li><li><a href=/docs/1.58.1/>1.58.1</a></li><li><a href=/docs/1.58.0/>1.58.0</a></li><li><a href=/docs/1.57.0/>1.57.0</a></li><li><a href=/docs/1.56.1/>1.56.1</a></li><li><a href=/docs/1.56.0/ class=active>1.56.0</a></li><li><a href=/docs/1.55.0/>1.55.0</a></li><li><a href=/docs/1.54.0/>1.54.0</a></li><li><a href=/docs/1.53.0/>1.53.0</a></li><li><a href=/docs/1.52.1/>1.52.1</a></li><li><a href=/docs/1.52.0/>1.52.0</a></li><li><a href=/docs/1.51.0/>1.51.0</a></li><li><a href=/docs/1.50.0/>1.50.0</a></li><li><a href=/docs/1.49.0/>1.49.0</a></li><li><a href=/docs/1.48.0/>1.48.0</a></li><li><a href=/docs/1.47.0/>1.47.0</a></li><li><a href=/docs/1.46.0/>1.46.0</a></li><li><a href=/docs/1.45.2/>1.45.2</a></li><li><a href=/docs/1.45.1/>1.45.1</a></li><li><a href=/docs/1.45.0/>1.45.0</a></li><li><a href=/docs/1.44.1/>1.44.1</a></li><li><a href=/docs/1.44.0/>1.44.0</a></li><li><a href=/docs/1.43.1/>1.43.1</a></li><li><a href=/docs/1.43.0/>1.43.0</a></li><li><a href=/docs/1.42.0/>1.42.0</a></li><li><a href=/docs/1.41.1/>1.41.1</a></li><li><a href=/docs/1.41.0/>1.41.0</a></li><li><a href=/docs/1.40.0/>1.40.0</a></li><li><a href=/docs/1.39.0/>1.39.0</a></li><li><a href=/docs/1.38.0/>1.38.0</a></li><li><a href=/docs/1.37.0/>1.37.0</a></li><li><a href=/docs/1.36.0/>1.36.0</a></li><li><a href=/docs/1.35.0/>1.35.0</a></li><li><a href=/docs/1.34.2/>1.34.2</a></li><li><a href=/docs/1.34.1/>1.34.1</a></li><li><a href=/docs/1.34.0/>1.34.0</a></li><li><a href=/docs/1.33.0/>1.33.0</a></li><li><a href=/docs/1.32.0/>1.32.0</a></li><li><a href=/docs/1.31.1/>1.31.1</a></li><li><a href=/docs/1.31.0/>1.31.0</a></li><li><a href=/docs/1.30.1/>1.30.1</a></li><li><a href=/docs/1.30.0/>1.30.0</a></li><li><a href=/docs/1.29.2/>1.29.2</a></li><li><a href=/docs/1.29.1/>1.29.1</a></li><li><a href=/docs/1.29.0/>1.29.0</a></li><li><a href=/docs/1.28.0/>1.28.0</a></li><li><a href=/docs/1.27.2/>1.27.2</a></li><li><a href=/docs/1.27.1/>1.27.1</a></li><li><a href=/docs/1.27.0/>1.27.0</a></li><li><a href=/docs/1.26.2/>1.26.2</a></li><li><a href=/docs/1.26.1/>1.26.1</a></li><li><a href=/docs/1.26.0/>1.26.0</a></li><li><a href=/docs/1.25.0/>1.25.0</a></li><li><a href=/docs/1.24.1/>1.24.1</a></li><li><a href=/docs/1.24.0/>1.24.0</a></li><li><a href=/docs/1.23.0/>1.23.0</a></li><li><a href=/docs/1.22.1/>1.22.1</a></li><li><a href=/docs/1.22.0/>1.22.0</a></li><li><a href=/docs/1.21.0/>1.21.0</a></li><li><a href=/docs/1.20.0/>1.20.0</a></li><li><a href=/docs/1.19.0/>1.19.0</a></li><li><a href=/docs/1.18.0/>1.18.0</a></li><li><a href=/docs/1.17.0/>1.17.0</a></li><li><a href=/docs/1.16.0/>1.16.0</a></li><li><a href=/docs/1.15.1/>1.15.1</a></li><li><a href=/docs/1.15.0/>1.15.0</a></li><li><a href=/docs/1.14.0/>1.14.0</a></li><li><a href=/docs/1.13.0/>1.13.0</a></li><li><a href=/docs/1.12.1/>1.12.1</a></li><li><a href=/docs/1.12.0/>1.12.0</a></li><li><a href=/docs/1.11.0/>1.11.0</a></li><li><a href=/docs/1.10.0/>1.10.0</a></li><li><a href=/docs/1.9.0/>1.9.0</a></li><li><a href=/docs/1.8.0/>1.8.0</a></li><li><a href=/docs/1.7.0/>1.7.0</a></li><li><a href=/docs/1.6.0/>1.6.0</a></li><li><a href=/docs/1.5.0/>1.5.0</a></li><li><a href=/docs/1.4.0/>1.4.0</a></li><li><a href=/docs/1.3.0/>1.3.0</a></li><li><a href=/docs/1.2.0/>1.2.0</a></li><li><a href=/docs/1.1.0/>1.1.0</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>1.56.0</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#language>Language</a></li><li><a href=#compiler>Compiler</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#stabilised-apis>Stabilised APIs</a></li><li><a href=#cargo>Cargo</a></li><li><a href=#compatibility-notes>Compatibility notes</a></li><li><a href=#internal-changes>Internal changes</a></li></ul></nav></aside></header><article class=markdown><h1 id=1560>1.56.0
<a class=anchor href=#1560>#</a></h1><blockquote class="book-hint info"><ul><li>Released on: <em>21 October, 2021</em></li><li>Branched from master on: <em>3 September, 2021</em></li></ul></blockquote><h2 id=language>Language
<a class=anchor href=#language>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/88100>The 2021 Edition is now stable.</a>
See <a href=https://doc.rust-lang.org/nightly/edition-guide/rust-2021/index.html>the edition guide</a> for more details.</li><li><a href=https://github.com/rust-lang/rust/pull/85305>The pattern in <code>binding @ pattern</code> can now also introduce new bindings.</a></li><li><a href=https://github.com/rust-lang/rust/pull/85769#issuecomment-854363720>Union field access is permitted in <code>const fn</code>.</a></li></ul><h2 id=compiler>Compiler
<a class=anchor href=#compiler>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/87570>Upgrade to LLVM 13.</a></li><li><a href=https://github.com/rust-lang/rust/pull/88023>Support memory, address, and thread sanitizers on aarch64-unknown-freebsd.</a></li><li><a href=https://github.com/rust-lang/rust/pull/87699>Allow specifying a deployment target version for all iOS targets</a></li><li><a href=https://github.com/rust-lang/rust/pull/87472>Warnings can be forced on with <code>--force-warn</code>.</a>
This feature is primarily intended for usage by <code>cargo fix</code>, rather than end users.</li><li><a href=https://github.com/rust-lang/rust/pull/87760>Promote <code>aarch64-apple-ios-sim</code> to Tier 2*.</a></li><li><a href=https://github.com/rust-lang/rust/pull/87370>Add <code>powerpc-unknown-freebsd</code> at Tier 3*.</a></li><li><a href=https://github.com/rust-lang/rust/pull/87666>Add <code>riscv32imc-esp-espidf</code> at Tier 3*.</a></li></ul><p>* Refer to Rust&rsquo;s [platform support page][platform-support-doc] for more
information on Rust&rsquo;s tiered platform support.</p><h2 id=libraries>Libraries
<a class=anchor href=#libraries>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/83342>Allow writing of incomplete UTF-8 sequences via stdout/stderr on Windows.</a>
The Windows console still requires valid Unicode, but this change allows
splitting a UTF-8 character across multiple write calls. This allows, for
instance, programs that just read and write data buffers (e.g. copying a file
to stdout) without regard for Unicode or character boundaries.</li><li><a href=https://github.com/rust-lang/rust/pull/83093>Prefer <code>AtomicU{64,128}</code> over Mutex for Instant backsliding protection.</a>
For this use case, atomics scale much better under contention.</li><li><a href=https://github.com/rust-lang/rust/pull/85835>Implement <code>Extend&lt;(A, B)></code> for <code>(Extend&lt;A>, Extend&lt;B>)</code></a></li><li><a href=https://github.com/rust-lang/rust/pull/86744>impl Default, Copy, Clone for std::io::Sink and std::io::Empty</a></li><li><a href=https://github.com/rust-lang/rust/pull/84111><code>impl From&lt;[(K, V); N]></code> for all collections.</a></li><li><a href=https://github.com/rust-lang/rust/pull/81363>Remove <code>P: Unpin</code> bound on impl Future for Pin.</a></li><li><a href=https://github.com/rust-lang/rust/pull/86183>Treat invalid environment variable names as nonexistent.</a>
Previously, the environment functions would panic if given a variable name
with an internal null character or equal sign (<code>=</code>). Now, these functions will
just treat such names as nonexistent variables, since the OS cannot represent
the existence of a variable with such a name.</li></ul><h2 id=stabilised-apis>Stabilised APIs
<a class=anchor href=#stabilised-apis>#</a></h2><ul><li><a href=https://doc.rust-lang.org/stable/std/os/unix/fs/fn.chroot.html><code>std::os::unix::fs::chroot</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/cell/struct.UnsafeCell.html#method.raw_get><code>UnsafeCell::raw_get</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/io/struct.BufWriter.html#method.into_parts><code>BufWriter::into_parts</code></a></li><li><a href=https://github.com/rust-lang/rust/pull/84662><code>core::panic::{UnwindSafe, RefUnwindSafe, AssertUnwindSafe}</code></a>
These APIs were previously stable in <code>std</code>, but are now also available in <code>core</code>.</li><li><a href=https://doc.rust-lang.org/stable/std/vec/struct.Vec.html#method.shrink_to><code>Vec::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/string/struct.String.html#method.shrink_to><code>String::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/ffi/struct.OsString.html#method.shrink_to><code>OsString::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/path/struct.PathBuf.html#method.shrink_to><code>PathBuf::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/collections/struct.BinaryHeap.html#method.shrink_to><code>BinaryHeap::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/collections/struct.VecDeque.html#method.shrink_to><code>VecDeque::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/collections/hash_map/struct.HashMap.html#method.shrink_to><code>HashMap::shrink_to</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/collections/hash_set/struct.HashSet.html#method.shrink_to><code>HashSet::shrink_to</code></a></li></ul><p>These APIs are now usable in const contexts:</p><ul><li><a href=https://doc.rust-lang.org/stable/std/mem/fn.transmute.html><code>std::mem::transmute</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/primitive.slice.html#method.first><code>[T]::first</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/primitive.slice.html#method.split_first><code>[T]::split_first</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/primitive.slice.html#method.last><code>[T]::last</code></a></li><li><a href=https://doc.rust-lang.org/stable/std/primitive.slice.html#method.split_last><code>[T]::split_last</code></a></li></ul><h2 id=cargo>Cargo
<a class=anchor href=#cargo>#</a></h2><ul><li><a href=https://doc.rust-lang.org/nightly/cargo/reference/manifest.html#the-rust-version-field>Cargo supports specifying a minimum supported Rust version in Cargo.toml.</a>
This has no effect at present on dependency version selection.
We encourage crates to specify their minimum supported Rust version, and we encourage CI systems
that support Rust code to include a crate&rsquo;s specified minimum version in the test matrix for that
crate by default.</li></ul><h2 id=compatibility-notes>Compatibility notes
<a class=anchor href=#compatibility-notes>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/87580>Update to new argument parsing rules on Windows.</a>
This adjusts Rust&rsquo;s standard library to match the behavior of the standard
libraries for C/C++. The rules have changed slightly over time, and this PR
brings us to the latest set of rules (changed in 2008).</li><li><a href=https://github.com/rust-lang/rust/pull/88399>Disallow the aapcs calling convention on aarch64</a>
This was already not supported by LLVM; this change surfaces this lack of
support with a better error message.</li><li><a href=https://github.com/rust-lang/rust/pull/87385>Make <code>SEMICOLON_IN_EXPRESSIONS_FROM_MACROS</code> warn by default</a></li><li><a href=https://github.com/rust-lang/rust/pull/87671>Warn when an escaped newline skips multiple lines.</a></li><li><a href=https://github.com/rust-lang/rust/pull/81825#issuecomment-808406918>Calls to <code>libc::getpid</code> / <code>std::process::id</code> from <code>Command::pre_exec</code>
may return different values on glibc &lt;= 2.24.</a>
Rust now invokes the <code>clone3</code> system call directly, when available, to use new functionality
available via that system call. Older versions of glibc cache the result of <code>getpid</code>, and only
update that cache when calling glibc&rsquo;s clone/fork functions, so a direct system call bypasses
that cache update. glibc 2.25 and newer no longer cache <code>getpid</code> for exactly this reason.</li></ul><h2 id=internal-changes>Internal changes
<a class=anchor href=#internal-changes>#</a></h2><p>These changes provide no direct user facing benefits, but represent significant
improvements to the internals and overall performance of rustc
and related tools.</p><ul><li><a href=https://github.com/rust-lang/rust/pull/88069>LLVM is compiled with PGO in published x86_64-unknown-linux-gnu artifacts.</a>
This improves the performance of most Rust builds.</li><li><a href=https://github.com/rust-lang/rust/pull/88019>Unify representation of macros in internal data structures.</a>
This change fixes a host of bugs with the handling of macros by the compiler,
as well as rustdoc.</li></ul></article><footer class=book-footer><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#language>Language</a></li><li><a href=#compiler>Compiler</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#stabilised-apis>Stabilised APIs</a></li><li><a href=#cargo>Cargo</a></li><li><a href=#compatibility-notes>Compatibility notes</a></li><li><a href=#internal-changes>Internal changes</a></li></ul></nav></div></aside></main></body></html>