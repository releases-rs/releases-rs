<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1.18.0 # Released on: 8 June, 2017 Branched from master on: 21 April, 2017 Language # Stabilize pub(restricted) pub can now accept a module path to make the item visible to just that module tree. Also accepts the keyword crate to make something public to the whole crate but not users of the library. Example: pub(crate) mod utils;. RFC 1422. Stabilize #![windows_subsystem] attribute conservative exposure of the /SUBSYSTEM linker flag on Windows platforms."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="1.18.0 # Released on: 8 June, 2017 Branched from master on: 21 April, 2017 Language # Stabilize pub(restricted) pub can now accept a module path to make the item visible to just that module tree. Also accepts the keyword crate to make something public to the whole crate but not users of the library. Example: pub(crate) mod utils;. RFC 1422. Stabilize #![windows_subsystem] attribute conservative exposure of the /SUBSYSTEM linker flag on Windows platforms."><meta property="og:type" content="article"><meta property="og:url" content="https://releases.rs/docs/1.18.0/"><meta property="article:section" content="docs"><title>1.18.0 | Rust Changelogs</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.f8de3645fe00591b41524aee174e19edd98a22255a2930a0cdc82a94835ba387.css integrity="sha256-+N42Rf4AWRtBUkruF04Z7dmKIiVaKTCgzcgqlINbo4c=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.317a53d6efd24d657c35235cf99579428ddcf86e7cd27eff8e381b14619e7a9c.js integrity="sha256-MXpT1u/STWV8NSNc+ZV5Qo3c+G580n7/jjgbFGGeepw=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WXS0HSEV58"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WXS0HSEV58",{anonymize_ip:!1})}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=https://www.rust-lang.org/static/images/rust-logo-blk.svg alt=Logo><span>Rust Changelogs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/1.78.0/>1.78.0</a></li><li><a href=/docs/1.77.0/>1.77.0</a></li><li><a href=/docs/1.76.0/>1.76.0</a></li><li><a href=/docs/1.75.0/>1.75.0</a></li><li><a href=/docs/1.74.1/>1.74.1</a></li><li><a href=/docs/1.74.0/>1.74.0</a></li><li><a href=/docs/1.73.0/>1.73.0</a></li><li><a href=/docs/1.72.1/>1.72.1</a></li><li><a href=/docs/1.72.0/>1.72.0</a></li><li><a href=/docs/1.71.1/>1.71.1</a></li><li><a href=/docs/1.71.0/>1.71.0</a></li><li><a href=/docs/1.70.0/>1.70.0</a></li><li><a href=/docs/1.69.0/>1.69.0</a></li><li><a href=/docs/1.68.2/>1.68.2</a></li><li><a href=/docs/1.68.1/>1.68.1</a></li><li><a href=/docs/1.68.0/>1.68.0</a></li><li><a href=/docs/1.67.1/>1.67.1</a></li><li><a href=/docs/1.67.0/>1.67.0</a></li><li><a href=/docs/1.66.1/>1.66.1</a></li><li><a href=/docs/1.66.0/>1.66.0</a></li><li><a href=/docs/1.65.0/>1.65.0</a></li><li><a href=/docs/1.64.0/>1.64.0</a></li><li><a href=/docs/1.63.0/>1.63.0</a></li><li><a href=/docs/1.62.1/>1.62.1</a></li><li><a href=/docs/1.62.0/>1.62.0</a></li><li><a href=/docs/1.61.0/>1.61.0</a></li><li><a href=/docs/1.60.0/>1.60.0</a></li><li><a href=/docs/1.59.0/>1.59.0</a></li><li><a href=/docs/1.58.1/>1.58.1</a></li><li><a href=/docs/1.58.0/>1.58.0</a></li><li><a href=/docs/1.57.0/>1.57.0</a></li><li><a href=/docs/1.56.1/>1.56.1</a></li><li><a href=/docs/1.56.0/>1.56.0</a></li><li><a href=/docs/1.55.0/>1.55.0</a></li><li><a href=/docs/1.54.0/>1.54.0</a></li><li><a href=/docs/1.53.0/>1.53.0</a></li><li><a href=/docs/1.52.1/>1.52.1</a></li><li><a href=/docs/1.52.0/>1.52.0</a></li><li><a href=/docs/1.51.0/>1.51.0</a></li><li><a href=/docs/1.50.0/>1.50.0</a></li><li><a href=/docs/1.49.0/>1.49.0</a></li><li><a href=/docs/1.48.0/>1.48.0</a></li><li><a href=/docs/1.47.0/>1.47.0</a></li><li><a href=/docs/1.46.0/>1.46.0</a></li><li><a href=/docs/1.45.2/>1.45.2</a></li><li><a href=/docs/1.45.1/>1.45.1</a></li><li><a href=/docs/1.45.0/>1.45.0</a></li><li><a href=/docs/1.44.1/>1.44.1</a></li><li><a href=/docs/1.44.0/>1.44.0</a></li><li><a href=/docs/1.43.1/>1.43.1</a></li><li><a href=/docs/1.43.0/>1.43.0</a></li><li><a href=/docs/1.42.0/>1.42.0</a></li><li><a href=/docs/1.41.1/>1.41.1</a></li><li><a href=/docs/1.41.0/>1.41.0</a></li><li><a href=/docs/1.40.0/>1.40.0</a></li><li><a href=/docs/1.39.0/>1.39.0</a></li><li><a href=/docs/1.38.0/>1.38.0</a></li><li><a href=/docs/1.37.0/>1.37.0</a></li><li><a href=/docs/1.36.0/>1.36.0</a></li><li><a href=/docs/1.35.0/>1.35.0</a></li><li><a href=/docs/1.34.2/>1.34.2</a></li><li><a href=/docs/1.34.1/>1.34.1</a></li><li><a href=/docs/1.34.0/>1.34.0</a></li><li><a href=/docs/1.33.0/>1.33.0</a></li><li><a href=/docs/1.32.0/>1.32.0</a></li><li><a href=/docs/1.31.1/>1.31.1</a></li><li><a href=/docs/1.31.0/>1.31.0</a></li><li><a href=/docs/1.30.1/>1.30.1</a></li><li><a href=/docs/1.30.0/>1.30.0</a></li><li><a href=/docs/1.29.2/>1.29.2</a></li><li><a href=/docs/1.29.1/>1.29.1</a></li><li><a href=/docs/1.29.0/>1.29.0</a></li><li><a href=/docs/1.28.0/>1.28.0</a></li><li><a href=/docs/1.27.2/>1.27.2</a></li><li><a href=/docs/1.27.1/>1.27.1</a></li><li><a href=/docs/1.27.0/>1.27.0</a></li><li><a href=/docs/1.26.2/>1.26.2</a></li><li><a href=/docs/1.26.1/>1.26.1</a></li><li><a href=/docs/1.26.0/>1.26.0</a></li><li><a href=/docs/1.25.0/>1.25.0</a></li><li><a href=/docs/1.24.1/>1.24.1</a></li><li><a href=/docs/1.24.0/>1.24.0</a></li><li><a href=/docs/1.23.0/>1.23.0</a></li><li><a href=/docs/1.22.1/>1.22.1</a></li><li><a href=/docs/1.22.0/>1.22.0</a></li><li><a href=/docs/1.21.0/>1.21.0</a></li><li><a href=/docs/1.20.0/>1.20.0</a></li><li><a href=/docs/1.19.0/>1.19.0</a></li><li><a href=/docs/1.18.0/ class=active>1.18.0</a></li><li><a href=/docs/1.17.0/>1.17.0</a></li><li><a href=/docs/1.16.0/>1.16.0</a></li><li><a href=/docs/1.15.1/>1.15.1</a></li><li><a href=/docs/1.15.0/>1.15.0</a></li><li><a href=/docs/1.14.0/>1.14.0</a></li><li><a href=/docs/1.13.0/>1.13.0</a></li><li><a href=/docs/1.12.1/>1.12.1</a></li><li><a href=/docs/1.12.0/>1.12.0</a></li><li><a href=/docs/1.11.0/>1.11.0</a></li><li><a href=/docs/1.10.0/>1.10.0</a></li><li><a href=/docs/1.9.0/>1.9.0</a></li><li><a href=/docs/1.8.0/>1.8.0</a></li><li><a href=/docs/1.7.0/>1.7.0</a></li><li><a href=/docs/1.6.0/>1.6.0</a></li><li><a href=/docs/1.5.0/>1.5.0</a></li><li><a href=/docs/1.4.0/>1.4.0</a></li><li><a href=/docs/1.3.0/>1.3.0</a></li><li><a href=/docs/1.2.0/>1.2.0</a></li><li><a href=/docs/1.1.0/>1.1.0</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>1.18.0</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#language>Language</a></li><li><a href=#compiler>Compiler</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#stabilized-apis>Stabilized APIs</a></li><li><a href=#cargo>Cargo</a></li><li><a href=#misc>Misc</a></li><li><a href=#compatibility-notes>Compatibility Notes</a></li></ul></nav></aside></header><article class=markdown><h1 id=1180>1.18.0
<a class=anchor href=#1180>#</a></h1><blockquote class="book-hint info"><ul><li>Released on: <em>8 June, 2017</em></li><li>Branched from master on: <em>21 April, 2017</em></li></ul></blockquote><h2 id=language>Language
<a class=anchor href=#language>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/40556>Stabilize pub(restricted)</a> <code>pub</code> can now accept a module path to
make the item visible to just that module tree. Also accepts the keyword
<code>crate</code> to make something public to the whole crate but not users of the
library. Example: <code>pub(crate) mod utils;</code>. <a href=https://github.com/rust-lang/rfcs/blob/master/text/1422-pub-restricted.md>RFC 1422</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/40870>Stabilize <code>#![windows_subsystem]</code> attribute</a> conservative exposure of the
<code>/SUBSYSTEM</code> linker flag on Windows platforms. <a href=https://github.com/rust-lang/rfcs/blob/master/text/1665-windows-subsystem.md>RFC 1665</a>.</li><li><a href=https://github.com/rust-lang/rust/pull/40043>Refactor of trait object type parsing</a> Now <code>ty</code> in macros can accept
types like <code>Write + Send</code>, trailing <code>+</code> are now supported in trait objects,
and better error reporting for trait objects starting with <code>?Sized</code>.</li><li><a href=https://github.com/rust-lang/rust/pull/40589>0e+10 is now a valid floating point literal</a></li><li><a href=https://github.com/rust-lang/rust/pull/40734>Now warns if you bind a lifetime parameter to &lsquo;static</a></li><li><a href=https://github.com/rust-lang/rust/pull/40377>Tuples, Enum variant fields, and structs with no <code>repr</code> attribute or with
<code>#[repr(Rust)]</code> are reordered to minimize padding and produce a smaller
representation in some cases.</a></li></ul><h2 id=compiler>Compiler
<a class=anchor href=#compiler>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/39891>rustc can now emit mir with <code>--emit mir</code></a></li><li><a href=https://github.com/rust-lang/rust/pull/40367>Improved LLVM IR for trivial functions</a></li><li><a href=https://github.com/rust-lang/rust/pull/40723>Added explanation for E0090(Wrong number of lifetimes are supplied)</a></li><li><a href=https://github.com/rust-lang/rust/pull/41469>rustc compilation is now 15%-20% faster</a> Thanks to optimisation
opportunities found through profiling</li><li><a href=https://github.com/rust-lang/rust/pull/38165>Improved backtrace formatting when panicking</a></li></ul><h2 id=libraries>Libraries
<a class=anchor href=#libraries>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/40731>Specialized <code>Vec::from_iter</code> being passed <code>vec::IntoIter</code></a> if the
iterator hasn&rsquo;t been advanced the original <code>Vec</code> is reassembled with no actual
iteration or reallocation.</li><li><a href=https://github.com/rust-lang/rust/pull/40561>Simplified HashMap Bucket interface</a> provides performance
improvements for iterating and cloning.</li><li><a href=https://github.com/rust-lang/rust/pull/40409>Specialize Vec::from_elem to use calloc</a></li><li><a href=https://github.com/rust-lang/rust/pull/39799>Fixed Race condition in fs::create_dir_all</a></li><li><a href=https://github.com/rust-lang/rust/pull/40516>No longer caching stdio on Windows</a></li><li><a href=https://github.com/rust-lang/rust/pull/40807>Optimized insertion sort in slice</a> insertion sort in some cases
2.50%~ faster and in one case now 12.50% faster.</li><li><a href=https://github.com/rust-lang/rust/pull/41143>Optimized <code>AtomicBool::fetch_nand</code></a></li></ul><h2 id=stabilized-apis>Stabilized APIs
<a class=anchor href=#stabilized-apis>#</a></h2><ul><li><a href=https://doc.rust-lang.org/std/process/struct.Child.html#method.try_wait><code>Child::try_wait</code></a></li><li><a href=https://doc.rust-lang.org/std/collections/struct.HashMap.html#method.retain><code>HashMap::retain</code></a></li><li><a href=https://doc.rust-lang.org/std/collections/struct.HashSet.html#method.retain><code>HashSet::retain</code></a></li><li><a href=https://doc.rust-lang.org/std/collections/binary_heap/struct.PeekMut.html#method.pop><code>PeekMut::pop</code></a></li><li><a href=https://doc.rust-lang.org/std/net/struct.TcpStream.html#method.peek><code>TcpStream::peek</code></a></li><li><a href=https://doc.rust-lang.org/std/net/struct.UdpSocket.html#method.peek><code>UdpSocket::peek</code></a></li><li><a href=https://doc.rust-lang.org/std/net/struct.UdpSocket.html#method.peek_from><code>UdpSocket::peek_from</code></a></li></ul><h2 id=cargo>Cargo
<a class=anchor href=#cargo>#</a></h2><ul><li><a href=https://github.com/rust-lang/cargo/pull/3842>Added partial Pijul support</a> Pijul is a version control system in Rust.
You can now create new cargo projects with Pijul using <code>cargo new --vcs pijul</code></li><li><a href=https://github.com/rust-lang/cargo/pull/3847>Now always emits build script warnings for crates that fail to build</a></li><li><a href=https://github.com/rust-lang/cargo/pull/3885>Added Android build support</a></li><li><a href=https://github.com/rust-lang/cargo/pull/3901>Added <code>--bins</code> and <code>--tests</code> flags</a> now you can build all programs
of a certain type, for example <code>cargo build --bins</code> will build all
binaries.</li><li><a href=https://github.com/rust-lang/cargo/pull/3952>Added support for haiku</a></li></ul><h2 id=misc>Misc
<a class=anchor href=#misc>#</a></h2><ul><li><a href=https://github.com/rust-lang/rust/pull/40338>rustdoc can now use pulldown-cmark with the <code>--enable-commonmark</code> flag</a></li><li><a href=https://github.com/rust-lang/rust/pull/40612>Rust now uses the official cross compiler for NetBSD</a></li><li><a href=https://github.com/rust-lang/rust/pull/40828>rustdoc now accepts <code>#</code> at the start of files</a></li><li><a href=https://github.com/rust-lang/rust/pull/41168>Fixed jemalloc support for musl</a></li></ul><h2 id=compatibility-notes>Compatibility Notes
<a class=anchor href=#compatibility-notes>#</a></h2><ul><li><p><a href=https://github.com/rust-lang/rust/pull/40241>Changes to how the <code>0</code> flag works in format!</a> Padding zeroes are now
always placed after the sign if it exists and before the digits. With the <code>#</code>
flag the zeroes are placed after the prefix and before the digits.</p></li><li><p><a href=https://github.com/rust-lang/rust/pull/40377>Due to the struct field optimisation</a>, using <code>transmute</code> on structs
that have no <code>repr</code> attribute or <code>#[repr(Rust)]</code> will no longer work. This has
always been undefined behavior, but is now more likely to break in practice.</p></li><li><p><a href=https://github.com/rust-lang/rust/pull/40043>The refactor of trait object type parsing</a> fixed a bug where <code>+</code> was
receiving the wrong priority parsing things like <code>&amp;for&lt;'a> Tr&lt;'a> + Send</code> as
<code>&(for&lt;'a> Tr&lt;'a> + Send)</code> instead of <code>(&amp;for&lt;'a> Tr&lt;'a>) + Send</code></p></li><li><p><a href=https://github.com/rust-lang/rust/pull/40728>Overlapping inherent <code>impl</code>s are now a hard error</a></p></li><li><p><a href=https://github.com/rust-lang/rust/issues/41270><code>PartialOrd</code> and <code>Ord</code> must agree on the ordering.</a></p></li><li><p><a href=https://github.com/rust-lang/rust/pull/41085><code>rustc main.rs -o out --emit=asm,llvm-ir</code></a> Now will output
<code>out.asm</code> and <code>out.ll</code> instead of only one of the filetypes.</p></li><li><p><a href=https://github.com/rust-lang/rust/issues/41805>calling a function that returns <code>Self</code> will no longer work</a> when
the size of <code>Self</code> cannot be statically determined.</p></li><li><p><a href=https://github.com/rust-lang/rust/pull/40805>rustc now builds with a &ldquo;pthreads&rdquo; flavour of MinGW for Windows GNU</a>
this has caused a few regressions namely:</p><ul><li>Changed the link order of local static/dynamic libraries (respecting the
order on given rather than having the compiler reorder).</li><li>Changed how MinGW is linked, native code linked to dynamic libraries
may require manually linking to the gcc support library (for the native
code itself)</li></ul></li></ul></article><footer class=book-footer><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#language>Language</a></li><li><a href=#compiler>Compiler</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#stabilized-apis>Stabilized APIs</a></li><li><a href=#cargo>Cargo</a></li><li><a href=#misc>Misc</a></li><li><a href=#compatibility-notes>Compatibility Notes</a></li></ul></nav></div></aside></main></body></html>